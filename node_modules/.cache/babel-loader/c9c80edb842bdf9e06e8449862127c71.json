{"ast":null,"code":"var _jsxFileName = \"/Users/HackYourFuture/Desktop/ReactSonnnn/hack-your-weather/src/Weather.js\";\nimport React, { useState } from \"react\";\nimport \"./App.css\"; // You need to run this command\n// REACT_APP_OPENWEATHERMAP_API_KEY=2c15e16ab21e2ac37c7a627756f01940 npm start\n\nconst API_KEY = process.env.REACT_APP_OPENWEATHERMAP_API_KEY;\nexport default function Weather() {\n  const [city, setCity] = useState(\"\");\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  const getWeather = cityName => {\n    console.log(process.env.REACT_APP_OPENWEATHERMAP_API_KEY);\n    const END_POINT = `http://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${API_KEY}&units=metric`;\n    fetch(END_POINT).then(res => res.json()).then(data => {\n      console.log(data);\n      const {\n        name,\n        sys: {\n          country\n        },\n        main: {\n          temp_max,\n          temp_min\n        },\n        weather: [{\n          main,\n          description\n        }],\n        coord: {\n          lat,\n          lon\n        }\n      } = data;\n      setData({\n        name,\n        country,\n        main,\n        description,\n        lat,\n        lon,\n        temp_max,\n        temp_min\n      });\n      setLoading(true);\n    }).catch(err => {\n      setHasError(true);\n    });\n  };\n\n  function handleChange(event) {\n    setCity({ ...city,\n      [event.target.name]: event.target.value\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    getWeather(city.name);\n    event.target.reset();\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"Weather\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    onChange: handleChange,\n    placeholder: \"Search City\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })), loading && !hasError && /*#__PURE__*/React.createElement(CityWeather, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 32\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, hasError && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 48\n    }\n  }, \"Something get wrong\")));\n}\n\nfunction CityWeather({\n  data\n}) {\n  console.log(data);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cityCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, data.name, \", \", data.country), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \" \", data.main), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, data.description)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"min temp : \", data.temp_min), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"max temp : \", data.temp_max), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"location : \", data.lat, \" \", data.lon)));\n}","map":{"version":3,"sources":["/Users/HackYourFuture/Desktop/ReactSonnnn/hack-your-weather/src/Weather.js"],"names":["React","useState","API_KEY","process","env","REACT_APP_OPENWEATHERMAP_API_KEY","Weather","city","setCity","data","setData","loading","setLoading","hasError","setHasError","getWeather","cityName","console","log","END_POINT","fetch","then","res","json","name","sys","country","main","temp_max","temp_min","weather","description","coord","lat","lon","catch","err","handleChange","event","target","value","handleSubmit","preventDefault","reset","color","CityWeather"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\n\n// You need to run this command\n// REACT_APP_OPENWEATHERMAP_API_KEY=2c15e16ab21e2ac37c7a627756f01940 npm start\nconst API_KEY = process.env.REACT_APP_OPENWEATHERMAP_API_KEY;\nexport default function Weather() {\n  const [city, setCity] = useState(\"\");\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  const getWeather = (cityName) => {\n    console.log(process.env.REACT_APP_OPENWEATHERMAP_API_KEY);\n    const END_POINT = `http://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${API_KEY}&units=metric`;\n    fetch(END_POINT)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        const {\n          name,\n          sys: { country },\n          main: { temp_max, temp_min },\n          weather: [{ main, description }],\n          coord: { lat, lon },\n        } = data;\n        setData({\n          name,\n          country,\n          main,\n          description,\n          lat,\n          lon,\n          temp_max,\n          temp_min,\n        });\n        setLoading(true);\n      })\n      .catch((err) => {\n        setHasError(true);\n      });\n  };\n\n  function handleChange(event) {\n    setCity({\n      ...city,\n      [event.target.name]: event.target.value,\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    getWeather(city.name);\n    event.target.reset();\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Weather</h1>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            onChange={handleChange}\n            placeholder=\"Search City\"\n          />\n        </label>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n      {loading && !hasError && <CityWeather data={data} />}\n      <div style={{color: \"red\"}}>{hasError && <p>Something get wrong</p>}</div>\n    </div>\n  );\n}\n\nfunction CityWeather({ data }) {\n  console.log(data);\n  return (\n    <div className=\"cityCard\">\n      <h2>\n        {data.name}, {data.country}\n      </h2>\n      <div>\n        <h3> {data.main}</h3>\n        <span>{data.description}</span>\n      </div>\n      <div>\n        <p>min temp : {data.temp_min}</p>\n        <p>max temp : {data.temp_max}</p>\n        <p>\n          location : {data.lat} {data.lon}\n        </p>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}